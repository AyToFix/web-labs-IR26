{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART } from './actions';\nconst initialState = {\n  cart: []\n};\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const existingProductIndex = state.cart.findIndex(item => item.id === action.payload.id && item.guarantee === action.payload.guarantee);\n      if (existingProductIndex >= 0) {\n        const updatedCart = [...state.cart];\n        updatedCart[existingProductIndex] = {\n          ...updatedCart[existingProductIndex],\n          quantity: updatedCart[existingProductIndex].quantity + action.payload.quantity,\n          totalPrice: updatedCart[existingProductIndex].totalPrice + action.payload.price * action.payload.quantity\n        };\n        return {\n          ...state,\n          cart: updatedCart\n        };\n      } else {\n        return {\n          ...state,\n          cart: [...state.cart, {\n            ...action.payload,\n            quantity: action.payload.quantity,\n            totalPrice: action.payload.price * action.payload.quantity\n          }]\n        };\n      }\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        cart: state.cart.filter(item => item.id !== action.payload)\n      };\n    default:\n      return state;\n  }\n};\nexport default rootReducer;","map":{"version":3,"names":["ADD_TO_CART","REMOVE_FROM_CART","initialState","cart","rootReducer","state","action","type","existingProductIndex","findIndex","item","id","payload","guarantee","updatedCart","quantity","totalPrice","price","filter"],"sources":["C:/Users/danil/OneDrive/Desktop/WEB/homepage9/src/components/CartPage/CartPage.jsx"],"sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART } from './actions';\r\n\r\nconst initialState = {\r\n  cart: [],\r\n};\r\n\r\nconst rootReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      const existingProductIndex = state.cart.findIndex(\r\n        item => item.id === action.payload.id && item.guarantee === action.payload.guarantee\r\n      );\r\n\r\n      if (existingProductIndex >= 0) {\r\n        const updatedCart = [...state.cart];\r\n        updatedCart[existingProductIndex] = {\r\n          ...updatedCart[existingProductIndex],\r\n          quantity: updatedCart[existingProductIndex].quantity + action.payload.quantity,\r\n          totalPrice: updatedCart[existingProductIndex].totalPrice + (action.payload.price * action.payload.quantity)\r\n        };\r\n        return {\r\n          ...state,\r\n          cart: updatedCart,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          cart: [...state.cart, {\r\n            ...action.payload,\r\n            quantity: action.payload.quantity,\r\n            totalPrice: action.payload.price * action.payload.quantity,\r\n          }],\r\n        };\r\n      }\r\n\r\n    case REMOVE_FROM_CART:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((item) => item.id !== action.payload),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,WAAW;AAEzD,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EACpD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKP,WAAW;MACd,MAAMQ,oBAAoB,GAAGH,KAAK,CAACF,IAAI,CAACM,SAAS,CAC/CC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACM,OAAO,CAACD,EAAE,IAAID,IAAI,CAACG,SAAS,KAAKP,MAAM,CAACM,OAAO,CAACC,SAC7E,CAAC;MAED,IAAIL,oBAAoB,IAAI,CAAC,EAAE;QAC7B,MAAMM,WAAW,GAAG,CAAC,GAAGT,KAAK,CAACF,IAAI,CAAC;QACnCW,WAAW,CAACN,oBAAoB,CAAC,GAAG;UAClC,GAAGM,WAAW,CAACN,oBAAoB,CAAC;UACpCO,QAAQ,EAAED,WAAW,CAACN,oBAAoB,CAAC,CAACO,QAAQ,GAAGT,MAAM,CAACM,OAAO,CAACG,QAAQ;UAC9EC,UAAU,EAAEF,WAAW,CAACN,oBAAoB,CAAC,CAACQ,UAAU,GAAIV,MAAM,CAACM,OAAO,CAACK,KAAK,GAAGX,MAAM,CAACM,OAAO,CAACG;QACpG,CAAC;QACD,OAAO;UACL,GAAGV,KAAK;UACRF,IAAI,EAAEW;QACR,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACL,GAAGT,KAAK;UACRF,IAAI,EAAE,CAAC,GAAGE,KAAK,CAACF,IAAI,EAAE;YACpB,GAAGG,MAAM,CAACM,OAAO;YACjBG,QAAQ,EAAET,MAAM,CAACM,OAAO,CAACG,QAAQ;YACjCC,UAAU,EAAEV,MAAM,CAACM,OAAO,CAACK,KAAK,GAAGX,MAAM,CAACM,OAAO,CAACG;UACpD,CAAC;QACH,CAAC;MACH;IAEF,KAAKd,gBAAgB;MACnB,OAAO;QACL,GAAGI,KAAK;QACRF,IAAI,EAAEE,KAAK,CAACF,IAAI,CAACe,MAAM,CAAER,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACM,OAAO;MAC9D,CAAC;IAEH;MACE,OAAOP,KAAK;EAChB;AACF,CAAC;AAED,eAAeD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}